struct StageTileInstance {
    AssetRef<StageTile> Tile;
    FP Rotation;
    FPVector2 Scale;
}

global {
    FP Timer;
}

signal OnStageReset(bool full);
signal OnTileChanged(int tileX, int tileY, StageTileInstance newTile);

event TileChanged {
    int TileX;
    int TileY;
    StageTileInstance NewTile;
}

event TileBroken {
    EntityRef Entity;
    int TileX;
    int TileY;
    StageTileInstance Tile;
    bool BrokenByMega;
}

event TimerExpired {
    Frame Frame;
}